(()=>{"use strict";var e,t={265:(e,t,n)=>{var s=n(83);function a(){const e=document.querySelector("[name=csrfmiddlewaretoken]");return e?.value||""}s.A.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",s.A.defaults.headers.common["Content-Type"]="application/json";class l{static instance;constructor(){}static getInstance(){return l.instance||(l.instance=new l),l.instance}async get(e){try{return(await s.A.get(e)).data}catch(e){throw console.error("API GET error:",e),e}}async post(e,t){try{const n={"X-CSRFToken":a()};return t instanceof FormData&&delete n["Content-Type"],(await s.A.post(e,t,{headers:n})).data}catch(e){throw console.error("API POST error:",e),e}}async vote(e,t){const n=new FormData;n.append("price_id",e.toString()),n.append("vote_type",t);try{return(await s.A.post("/handle_vote/",n,{headers:{"X-CSRFToken":a()}})).data}catch(e){throw console.error("Vote error:",e),e}}}class i{static getElement(e){return document.querySelector(e)}static getElementOrThrow(e){const t=this.getElement(e);if(!t)throw new Error(`Element not found: ${e}`);return t}static getElements(e){return Array.from(document.querySelectorAll(e))}static createElement(e,t={},n){const s=document.createElement(e);return Object.entries(t).forEach(([e,t])=>{s.setAttribute(e,t)}),n&&(s.textContent=n),s}static addEventListeners(e,t){Object.entries(t).forEach(([t,n])=>{e.addEventListener(t,n)})}static removeEventListeners(e,t){Object.entries(t).forEach(([t,n])=>{e.removeEventListener(t,n)})}}l.getInstance();const r={airborne:["army","all"],air_assault:["army","all"],jumpmaster:["army","all"],ranger_school:["army","all"],pathfinder:["army","all"],sniper:["army","marines","all"],mountain:["army","all"],sapper:["army","all"],cdqc:["army","all"],sfqc:["army","all"],buds:["navy","all"],sere:["army","navy","marines","air_force","all"],other:["all","army","navy","marines","air_force"]},o={sfas:["army","all"],poas:["army","all"],caas:["army","all"],rasp:["army","all"],ocs:["army","navy","marines","air_force","all"],wocs:["army","all"],seal_pst:["navy","all"],recon:["marines","all"],pj_indoc:["air_force","all"],marsoc_as:["marines","all"],cct_selection:["air_force","all"],other:["all","army","navy","marines","air_force"]},c={bct:["army","all"],ait:["army","all"],osut:["army","all"],pre_ranger:["army","all"],pre_sapper:["army","all"],pre_airborne:["army","all"],pre_seal:["navy","all"],tactical_fitness:["all","army","navy","marines","air_force"],never_quit:["all","army","navy","marines","air_force"],other:["all","army","navy","marines","air_force"]};class p{branchField=null;schoolTypeField=null;assessmentTypeField=null;trainingTypeField=null;allSchoolOptions=[];allAssessmentOptions=[];allTrainingOptions=[];constructor(){this.initialize()}initialize(){this.setupElements(),this.cacheOptions(),this.setupEventListeners(),this.updateTypeOptions(),this.handleEventTypeChange()}setupElements(){this.branchField=i.getElement('[name="branch"]'),this.schoolTypeField=i.getElement('[name="school_type"]'),this.assessmentTypeField=i.getElement('[name="assessment_type"]'),this.trainingTypeField=i.getElement('[name="training_type"]')}cacheOptions(){this.schoolTypeField&&(this.allSchoolOptions=this.getOptions(this.schoolTypeField)),this.assessmentTypeField&&(this.allAssessmentOptions=this.getOptions(this.assessmentTypeField)),this.trainingTypeField&&(this.allTrainingOptions=this.getOptions(this.trainingTypeField))}getOptions(e){return Array.from(e.options).map(e=>({value:e.value,text:e.text,orig:e}))}setOptions(e,t,n){e.innerHTML="",t.forEach(t=>{const s=document.createElement("option");s.value=t.value,s.text=t.text,t.value===n&&(s.selected=!0),e.appendChild(s)})}setupEventListeners(){this.branchField&&this.branchField.addEventListener("change",this.updateTypeOptions.bind(this));const e=i.getElement('[name="event_type"]');e&&e.addEventListener("change",this.handleEventTypeChange.bind(this)),this.assessmentTypeField&&this.assessmentTypeField.addEventListener("change",this.handleAssessmentTypeChange.bind(this))}filterOptions(e,t,n,s){const a=t.filter(e=>{if(!e.value)return!0;const t=s[e.value];return t&&(t.includes(n)||"all"===n)});this.setOptions(e,a,e.value)}updateTypeOptions(){if(!this.branchField)return;const e=this.branchField.value;this.schoolTypeField&&this.filterOptions(this.schoolTypeField,this.allSchoolOptions,e,r),this.assessmentTypeField&&this.filterOptions(this.assessmentTypeField,this.allAssessmentOptions,e,o),this.trainingTypeField&&this.filterOptions(this.trainingTypeField,this.allTrainingOptions,e,c),this.updateFieldVisibility(e)}updateFieldVisibility(e){const t=i.getElement("#school-type-row"),n=i.getElement("#assessment-type-row"),s=i.getElement("#training-type-row"),a=i.getElement("#school-row");let l=null;document.querySelectorAll("form p").forEach(e=>{e.querySelector('[name="school_name"]')&&(l=e)});const r=i.getElement('[name="event_type"]');if(r){const e=r.value;if(t&&(t.style.display="school"===e?"block":"none"),n&&(n.style.display="assessment"===e?"block":"none"),s&&(s.style.display="training"===e?"block":"none"),a&&this.schoolTypeField){const t=this.schoolTypeField.value&&""!==this.schoolTypeField.value;a.style.display="school"===e&&t?"block":"none"}else a&&(a.style.display="none");null!==l&&(l.style.display="school"===e?"block":"none")}}handleEventTypeChange(){this.updateTypeOptions();const e=i.getElement('[name="event_type"]'),t=document.querySelector('p:has([name="custom_event_type"])');if(e&&t){t.style.display="other"===e.value?"block":"none";const n=i.getElement("#assessment-type-row");n&&(n.style.display="assessment"===e.value?"block":"none")}}handleAssessmentTypeChange(){const e=document.querySelector('p:has([name="custom_event_type"])');this.assessmentTypeField&&e&&(e.style.display="other"===this.assessmentTypeField.value?"block":"none")}}function y(){new p}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y):y()}},n={};function s(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,s),l.exports}s.m=t,e=[],s.O=(t,n,a,l)=>{if(!n){var i=1/0;for(p=0;p<e.length;p++){for(var[n,a,l]=e[p],r=!0,o=0;o<n.length;o++)(!1&l||i>=l)&&Object.keys(s.O).every(e=>s.O[e](n[o]))?n.splice(o--,1):(r=!1,l<i&&(i=l));if(r){e.splice(p--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[n,a,l]},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={616:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[i,r,o]=n,c=0;if(i.some(t=>0!==e[t])){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(o)var p=o(s)}for(t&&t(n);c<i.length;c++)l=i[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(p)},n=self.webpackChunkcommunity_packing_list=self.webpackChunkcommunity_packing_list||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=s.O(void 0,[804],()=>s(265));a=s.O(a)})();
//# sourceMappingURL=packing-list-form.js.map