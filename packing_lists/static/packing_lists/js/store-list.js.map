{"version":3,"file":"store-list.js","mappings":"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","sources":["webpack://community-packing-list/webpack/runtime/chunk loaded","webpack://community-packing-list/./src/common.ts","webpack://community-packing-list/./src/store-list.ts","webpack://community-packing-list/webpack/bootstrap","webpack://community-packing-list/webpack/runtime/define property getters","webpack://community-packing-list/webpack/runtime/hasOwnProperty shorthand","webpack://community-packing-list/webpack/runtime/make namespace object","webpack://community-packing-list/webpack/runtime/jsonp chunk loading","webpack://community-packing-list/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import axios, { AxiosResponse } from 'axios';\nimport type { ApiResponse, VoteResponse } from './types';\n\n// API base configuration\nconst API_BASE_URL = '';\n\n// Configure axios defaults\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Get CSRF token from Django template\nfunction getCSRFToken(): string {\n  const tokenElement = document.querySelector('[name=csrfmiddlewaretoken]') as HTMLInputElement;\n  return tokenElement?.value || '';\n}\n\n// API helper functions\nexport class ApiClient {\n  private static instance: ApiClient;\n  \n  private constructor() {}\n  \n  static getInstance(): ApiClient {\n    if (!ApiClient.instance) {\n      ApiClient.instance = new ApiClient();\n    }\n    return ApiClient.instance;\n  }\n\n  async get<T>(url: string): Promise<ApiResponse<T>> {\n    try {\n      const response: AxiosResponse<ApiResponse<T>> = await axios.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('API GET error:', error);\n      throw error;\n    }\n  }\n\n  async post<T>(url: string, data: FormData | object): Promise<ApiResponse<T>> {\n    try {\n      const headers: Record<string, string> = {\n        'X-CSRFToken': getCSRFToken()\n      };\n\n      if (data instanceof FormData) {\n        delete headers['Content-Type']; // Let browser set multipart boundary\n      }\n\n      const response: AxiosResponse<ApiResponse<T>> = await axios.post(url, data, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('API POST error:', error);\n      throw error;\n    }\n  }\n\n  async vote(priceId: number, voteType: 'up' | 'down'): Promise<VoteResponse> {\n    const formData = new FormData();\n    formData.append('price_id', priceId.toString());\n    formData.append('vote_type', voteType);\n\n    try {\n      const response: AxiosResponse<VoteResponse> = await axios.post('/handle_vote/', formData, {\n        headers: {\n          'X-CSRFToken': getCSRFToken()\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Vote error:', error);\n      throw error;\n    }\n  }\n}\n\n// DOM utility functions\nexport class DOMUtils {\n  static getElement<T extends HTMLElement>(selector: string): T | null {\n    return document.querySelector(selector) as T | null;\n  }\n\n  static getElementOrThrow<T extends HTMLElement>(selector: string): T {\n    const element = this.getElement<T>(selector);\n    if (!element) {\n      throw new Error(`Element not found: ${selector}`);\n    }\n    return element;\n  }\n\n  static getElements<T extends HTMLElement>(selector: string): T[] {\n    return Array.from(document.querySelectorAll(selector)) as T[];\n  }\n\n  static createElement<K extends keyof HTMLElementTagNameMap>(\n    tagName: K,\n    attributes: Record<string, string> = {},\n    textContent?: string\n  ): HTMLElementTagNameMap[K] {\n    const element = document.createElement(tagName);\n    \n    Object.entries(attributes).forEach(([key, value]) => {\n      element.setAttribute(key, value);\n    });\n    \n    if (textContent) {\n      element.textContent = textContent;\n    }\n    \n    return element;\n  }\n\n  static addEventListeners(\n    element: HTMLElement,\n    events: Record<string, EventListener>\n  ): void {\n    Object.entries(events).forEach(([event, listener]) => {\n      element.addEventListener(event, listener);\n    });\n  }\n\n  static removeEventListeners(\n    element: HTMLElement,\n    events: Record<string, EventListener>\n  ): void {\n    Object.entries(events).forEach(([event, listener]) => {\n      element.removeEventListener(event, listener);\n    });\n  }\n}\n\n// Form utility functions\nexport class FormUtils {\n  static getFormData(form: HTMLFormElement): FormData {\n    return new FormData(form);\n  }\n\n  static getFormDataAsObject(form: HTMLFormElement): Record<string, any> {\n    const formData = new FormData(form);\n    const data: Record<string, any> = {};\n    \n    for (const [key, value] of formData.entries()) {\n      data[key] = value;\n    }\n    \n    return data;\n  }\n\n  static setFormData(form: HTMLFormElement, data: Record<string, any>): void {\n    Object.entries(data).forEach(([key, value]) => {\n      const field = form.querySelector(`[name=\"${key}\"]`) as HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement;\n      if (field) {\n        if (field.type === 'checkbox') {\n          (field as HTMLInputElement).checked = Boolean(value);\n        } else {\n          field.value = String(value);\n        }\n      }\n    });\n  }\n\n  static clearForm(form: HTMLFormElement): void {\n    form.reset();\n  }\n\n  static validateForm(form: HTMLFormElement): boolean {\n    return form.checkValidity();\n  }\n\n  static showFormErrors(form: HTMLFormElement, errors: Record<string, string[]>): void {\n    // Clear existing error displays\n    form.querySelectorAll('.form-field-errors').forEach(el => el.remove());\n    \n    Object.entries(errors).forEach(([fieldName, fieldErrors]) => {\n      const field = form.querySelector(`[name=\"${fieldName}\"]`) as HTMLElement;\n      if (field) {\n        const errorList = DOMUtils.createElement('ul', { class: 'form-field-errors' });\n        fieldErrors.forEach(error => {\n          const errorItem = DOMUtils.createElement('li', {}, error);\n          errorList.appendChild(errorItem);\n        });\n        \n        // Insert after the field\n        field.parentNode?.insertBefore(errorList, field.nextSibling);\n      }\n    });\n  }\n}\n\n// UI utility functions\nexport class UIUtils {\n  static showLoading(button: HTMLButtonElement): void {\n    button.classList.add('loading');\n    button.disabled = true;\n    button.textContent = 'Loading...';\n  }\n\n  static hideLoading(button: HTMLButtonElement, originalText: string): void {\n    button.classList.remove('loading');\n    button.disabled = false;\n    button.textContent = originalText;\n  }\n\n  static showModal(modalId: string): void {\n    const modal = DOMUtils.getElement<HTMLElement>(`#${modalId}`);\n    if (modal) {\n      modal.style.display = 'flex';\n    }\n  }\n\n  static hideModal(modalId: string): void {\n    const modal = DOMUtils.getElement<HTMLElement>(`#${modalId}`);\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n\n  static showNotification(message: string, type: 'success' | 'error' | 'info' = 'info'): void {\n    const notification = DOMUtils.createElement('div', {\n      class: `notification notification-${type}`,\n      style: `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        padding: 1rem;\n        border-radius: 4px;\n        color: white;\n        z-index: 10000;\n        max-width: 300px;\n        word-wrap: break-word;\n      `\n    }, message);\n\n    // Set background color based on type\n    const colors = {\n      success: '#28a745',\n      error: '#dc3545',\n      info: '#17a2b8'\n    };\n    notification.style.backgroundColor = colors[type];\n\n    document.body.appendChild(notification);\n\n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n      notification.remove();\n    }, 5000);\n  }\n\n  static formatCurrency(amount: number): string {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  }\n\n  static formatDistance(distance: number): string {\n    return `${distance.toFixed(2)} km`;\n  }\n\n  static debounce<T extends (...args: any[]) => any>(\n    func: T,\n    wait: number\n  ): (...args: Parameters<T>) => void {\n    let timeout: number;\n    return (...args: Parameters<T>) => {\n      clearTimeout(timeout);\n      timeout = window.setTimeout(() => func(...args), wait);\n    };\n  }\n\n  static throttle<T extends (...args: any[]) => any>(\n    func: T,\n    limit: number\n  ): (...args: Parameters<T>) => void {\n    let inThrottle: boolean;\n    return (...args: Parameters<T>) => {\n      if (!inThrottle) {\n        func(...args);\n        inThrottle = true;\n        setTimeout(() => inThrottle = false, limit);\n      }\n    };\n  }\n}\n\n// Geolocation utility functions\nexport class GeolocationUtils {\n  static async getCurrentPosition(): Promise<GeolocationPosition> {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('Geolocation is not supported by your browser.'));\n        return;\n      }\n\n      navigator.geolocation.getCurrentPosition(resolve, reject, {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000\n      });\n    });\n  }\n\n  static getErrorMessage(error: GeolocationPositionError): string {\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        return \"User denied the request for Geolocation.\";\n      case error.POSITION_UNAVAILABLE:\n        return \"Location information is unavailable.\";\n      case error.TIMEOUT:\n        return \"The request to get user location timed out.\";\n      default:\n        return \"An unknown error occurred.\";\n    }\n  }\n}\n\n// Export singleton instances\nexport const apiClient = ApiClient.getInstance(); ","import { DOMUtils, apiClient, FormUtils, GeolocationUtils } from './common';\nimport { StateUtils } from './services/StateManager';\nimport { Modal } from './components/Modal';\nimport type { StoreFormData } from './types';\n\nclass StoreListManager {\n  private findNearMeButton: HTMLButtonElement | null = null;\n  private addStoreButton: HTMLButtonElement | null = null;\n  private storeModal: HTMLElement | null = null;\n  private storeModalBody: HTMLElement | null = null;\n  private closeStoreModalButton: HTMLButtonElement | null = null;\n  private currentModal: Modal | null = null;\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize(): void {\n    this.setupElements();\n    this.setupEventListeners();\n  }\n\n  private setupElements(): void {\n    this.findNearMeButton = DOMUtils.getElement<HTMLButtonElement>('#find-near-me');\n    this.addStoreButton = DOMUtils.getElement<HTMLButtonElement>('#add-store-btn');\n    this.storeModal = DOMUtils.getElement<HTMLElement>('#store-modal');\n    this.storeModalBody = DOMUtils.getElement<HTMLElement>('#store-modal-body');\n    this.closeStoreModalButton = DOMUtils.getElement<HTMLButtonElement>('#close-store-modal');\n  }\n\n  private setupEventListeners(): void {\n    // Find stores near me functionality\n    if (this.findNearMeButton) {\n      this.findNearMeButton.addEventListener('click', this.handleFindNearMe.bind(this));\n    }\n\n    // Add store modal functionality\n    if (this.addStoreButton) {\n      this.addStoreButton.addEventListener('click', this.handleAddStoreClick.bind(this));\n    }\n\n    // Close modal functionality\n    if (this.closeStoreModalButton) {\n      this.closeStoreModalButton.addEventListener('click', this.handleCloseModal.bind(this));\n    }\n\n    // Close modal when clicking outside\n    if (this.storeModal) {\n      this.storeModal.addEventListener('click', this.handleModalOutsideClick.bind(this));\n    }\n  }\n\n  private async handleFindNearMe(): Promise<void> {\n    if (!this.findNearMeButton) return;\n\n    try {\n      const position = await GeolocationUtils.getCurrentPosition();\n      \n      const userLatInput = DOMUtils.getElement<HTMLInputElement>('#user_lat');\n      const userLonInput = DOMUtils.getElement<HTMLInputElement>('#user_lon');\n      const schoolIdSelect = DOMUtils.getElement<HTMLSelectElement>('#school_id');\n      \n      if (userLatInput && userLonInput) {\n        userLatInput.value = position.coords.latitude.toString();\n        userLonInput.value = position.coords.longitude.toString();\n      }\n      \n      // Clear other location-based filters if user clicks \"near me\"\n      if (schoolIdSelect) {\n        schoolIdSelect.value = '';\n      }\n      \n      // Submit the form\n      const form = DOMUtils.getElement<HTMLFormElement>('.filter-form form');\n      if (form) {\n        form.submit();\n      }\n    } catch (error) {\n      console.error('Geolocation error:', error);\n      let userMessage = 'Error getting location: ';\n      \n      if (error instanceof GeolocationPositionError) {\n        userMessage += GeolocationUtils.getErrorMessage(error);\n      } else if (error instanceof Error) {\n        userMessage += error.message;\n      } else {\n        userMessage += 'An unknown error occurred.';\n      }\n      \n      StateUtils.addNotification(userMessage, 'error');\n    }\n  }\n\n  private async handleAddStoreClick(event: Event): Promise<void> {\n    event.preventDefault();\n    \n    // Show loading state\n    const target = event.currentTarget as HTMLButtonElement;\n    const originalText = target.textContent || 'Add Store';\n    this.showButtonLoading(target);\n    \n    try {\n      const response = await apiClient.get('/stores/add/modal/');\n      \n      if (response.html) {\n        // Create content element first so we can query it\n        const contentElement = document.createElement('div');\n        contentElement.innerHTML = response.html;\n        \n        // Create and open modal using Modal component\n        this.currentModal = new Modal({\n          title: 'Add Store',\n          content: contentElement,\n          size: 'md',\n        });\n        \n        // Set up form submission handler\n        this.currentModal.on('open', () => {\n          const form = contentElement.querySelector('form') as HTMLFormElement;\n          if (form) {\n            this.bindStoreFormAjax(form);\n          }\n          \n          // Focus first input\n          setTimeout(() => {\n            const firstInput = contentElement.querySelector('input, select, textarea') as HTMLElement;\n            if (firstInput) {\n              firstInput.focus();\n            }\n          }, 100);\n        });\n        \n        await this.currentModal.open();\n      }\n    } catch (error) {\n      Modal.alert('Error loading form. Please try again.', 'Error');\n    } finally {\n      this.hideButtonLoading(target, originalText);\n    }\n  }\n\n  private handleCloseModal(): void {\n    if (this.currentModal) {\n      this.currentModal.close();\n    }\n  }\n\n  private handleModalOutsideClick(event: Event): void {\n    const target = event.target as HTMLElement;\n    if (target === this.storeModal) {\n      this.handleCloseModal();\n    }\n  }\n\n  private bindStoreFormAjax(form?: HTMLFormElement): void {\n    const storeForm = form || DOMUtils.getElement<HTMLFormElement>('#store-form');\n    if (!storeForm) return;\n\n    storeForm.addEventListener('submit', async (e) => {\n      e.preventDefault();\n\n      const submitBtn = storeForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      if (submitBtn) {\n        this.showButtonLoading(submitBtn);\n      }\n\n      try {\n        const formData = new FormData(storeForm);\n        const response = await apiClient.post('/stores/add/', formData);\n        \n        const data = response.data || response;\n        \n        if ((data as any).success) {\n          Modal.alert('Store added successfully!', 'Success');\n          location.reload(); // Refresh to show new store\n        } else if ((data as any).html) {\n          const modalBody = DOMUtils.getElement<HTMLElement>('#store-modal-body');\n          if (modalBody) {\n            modalBody.innerHTML = (data as any).html;\n            this.bindStoreFormAjax(storeForm);\n          }\n        } else if ((data as any).message) {\n          StateUtils.addNotification((data as any).message, 'error');\n        } else {\n          StateUtils.addNotification('Unknown error occurred', 'error');\n        }\n      } catch (error) {\n        StateUtils.addNotification('Error adding store. Please try again.', 'error');\n      } finally {\n        // Remove loading state\n        if (submitBtn) {\n          this.hideButtonLoading(submitBtn, 'Add Store');\n        }\n      }\n    });\n  }\n\n  private showButtonLoading(button: HTMLButtonElement): void {\n    button.disabled = true;\n    const originalText = button.textContent || '';\n    button.textContent = 'Loading...';\n    button.dataset.originalText = originalText;\n  }\n\n  private hideButtonLoading(button: HTMLButtonElement, originalText?: string): void {\n    button.disabled = false;\n    button.textContent = originalText || button.dataset.originalText || 'Submit';\n    delete button.dataset.originalText;\n  }\n}\n\n// Initialize when DOM is loaded or immediately if already loaded\nfunction initializeStoreList() {\n  new StoreListManager();\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeStoreList);\n} else {\n  // DOM is already loaded\n  initializeStoreList();\n} ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t791: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcommunity_packing_list\"] = self[\"webpackChunkcommunity_packing_list\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [804], () => (__webpack_require__(914)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","getCSRFToken","tokenElement","document","querySelector","value","axios","defaults","headers","common","ApiClient","static","getInstance","instance","get","url","data","error","console","post","FormData","vote","priceId","voteType","formData","append","toString","DOMUtils","getElement","selector","getElementOrThrow","element","this","Error","getElements","Array","from","querySelectorAll","createElement","tagName","attributes","textContent","Object","entries","forEach","key","setAttribute","addEventListeners","events","event","listener","addEventListener","removeEventListeners","removeEventListener","GeolocationUtils","getCurrentPosition","Promise","resolve","reject","navigator","geolocation","enableHighAccuracy","timeout","maximumAge","getErrorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","apiClient","StoreListManager","findNearMeButton","addStoreButton","storeModal","storeModalBody","closeStoreModalButton","currentModal","constructor","initialize","setupElements","setupEventListeners","handleFindNearMe","bind","handleAddStoreClick","handleCloseModal","handleModalOutsideClick","position","userLatInput","userLonInput","schoolIdSelect","coords","latitude","longitude","form","submit","userMessage","GeolocationPositionError","message","addNotification","preventDefault","target","currentTarget","originalText","showButtonLoading","response","html","contentElement","innerHTML","Modal","title","content","size","on","bindStoreFormAjax","setTimeout","firstInput","focus","open","alert","hideButtonLoading","close","storeForm","async","e","submitBtn","success","location","reload","modalBody","button","disabled","dataset","initializeStoreList","readyState","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","splice","r","d","definition","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","push","__webpack_exports__"],"sourceRoot":""}