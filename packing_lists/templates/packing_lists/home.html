{% extends "packing_lists/base.html" %}

{% block title %}Home - Community Packing Lists{% endblock %}

{% block page_header %}Welcome to Community Packing Lists!{% endblock %}

{% block content %}
    <div class="home-hero-section info-box">
        <h2 class="hero-title">Mission-Ready Packing, Simplified.</h2>
        <p class="lead">Find, create, or upload packing lists for your next military school, assessment, or deployment. Prepare efficiently and ensure you have all essential gear.</p>
        <div class="actions-bar hero-actions">
            <a href="{% url 'create_packing_list' %}" class="button success">
                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
                Create New List
            </a>
            <a href="{% url 'upload_packing_list' %}" class="button secondary">
                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-upload"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                Upload List
            </a>
        </div>
    </div>

    <h2 class="section-title">Existing Packing Lists</h2>
    {% if packing_lists %}
        <ul class="packing-lists-ul">
            {% for plist in packing_lists %}
                <li class="packing-list-entry">
                    <div class="list-entry-header">
                        <div class="list-entry-title-group">
                            <h3><a href="{% url 'view_packing_list' plist.id %}">{{ plist.name }}</a></h3>
                            {% if plist.school %}
                                <span class="school-tag">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-briefcase"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
                                    {{ plist.school.name }}
                                </span>
                            {% endif %}
                        </div>
                        <a href="{% url 'view_packing_list' plist.id %}" class="button text-small">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            View
                        </a>
                    </div>
                    {% if plist.description %}
                        <p class="item-notes mt-1">{{ plist.description|truncatewords:30 }}</p>
                    {% else %}
                        <p class="text-muted item-notes mt-1">No description provided.</p>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="info-box no-lists-box">
            <p class="no-lists">No packing lists found. Why not create or upload one to get started?</p>
        </div>
    {% endif %}
{% endblock %}
