{% extends "packing_lists/base.html" %}
{% load static %}

{% block title %}Home - Community Packing Lists{% endblock %}

{% block page_header %}Community Packing Lists!{% endblock %}

{% block content %}
    <div class="info-box home-auth-box">
        <div class="home-auth-content" style="flex-direction: column;">
            <img src="{% static 'packing_lists/icons/travel-bag.svg' %}" alt="Packing List Icon" width="40" height="40" />
            <div>
                <h2 class="hero-title">Community Packing Lists!</h2>
                <p class="lead">Create, manage, and share military packing lists. Sign up to save your lists, access from any device, and join the community.</p>
            </div>
        </div>
        <div class="home-auth-actions">
            <a href="#" class="btn btn--primary">Sign In</a>
            <a href="#" class="btn btn--success">Sign Up</a>
        </div>
    </div>

    <h2 class="section-title">Existing Packing Lists</h2>
    <div class="flex justify-between mb-4">
        <span></span>
        <a href="{% url 'lists' %}" class="btn btn--primary">View &amp; Manage All Packing Lists</a>
    </div>
    {% if packing_lists %}
        <ul class="packing-lists-ul">
            {% for plist in packing_lists %}
                <li class="packing-list-entry">
                    <div class="list-entry-header">
                        <div class="list-entry-title-group">
                            <h3><a href="{% url 'view_packing_list' plist.id %}">{{ plist.name }}</a></h3>
                            {% if plist.school %}
                                <span class="school-tag">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-briefcase"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
                                    {{ plist.school.name }}
                                </span>
                            {% endif %}
                        </div>
                        <a href="{% url 'view_packing_list' plist.id %}" class="button text-small">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            View
                        </a>
                    </div>
                    {% if plist.description %}
                        <p class="item-notes mt-1">{{ plist.description|truncatewords:30 }}</p>
                    {% else %}
                        <p class="text-muted item-notes mt-1">No description provided.</p>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="info-box no-lists-box">
            <p class="no-lists">No packing lists found. Why not create or upload one to get started?</p>
        </div>
    {% endif %}

    <style>
    @media (min-width: 600px) {
      .home-auth-box {
        flex-direction: row !important;
        text-align: left !important;
      }
      .home-auth-box > div:first-child {
        flex-direction: row !important;
        justify-content: flex-start !important;
        align-items: center !important;
      }
      .home-auth-box .button {
        min-width: 120px;
      }
    }
    </style>
{% endblock %}
